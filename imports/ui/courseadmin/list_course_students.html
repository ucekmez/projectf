<template name="CourseAdminListCourseStudents">
  <h4 class="title-border">List of Students for {{ course.title }} [{{ course.code }}]</h4>


  <h5 class="title-border">Pending Registrations</h5>

  <table class="table">
    <tbody>
      <tr>
        {{#each course.pending }}
          <td>
            {{#with get_student_profile _id }}
                {{#if profile.name }}{{ profile.name }},{{else}}NONAME,{{/if}}
                {{ emails.[0].address }}
            {{/with}}
          </td>
          <td>
            requested {{ dateFromNow date }}
          </td>
          <td>
            <a style="cursor:pointer;" id="accept-pending-student"><span class="badge" style="background-color: green;">accept!</span></a>
          </td>
        {{else}}
          There are no pending registrations!
        {{/each}}
      </tr>
    </tbody>
  </table>

  <h5 class="title-border">Enrolled Students</h5>

  <table class="table">
    <tbody>
      <tr>
        {{#each course.students }}
          <td>
            {{#with get_student_profile _id }}
                {{#if profile.name }}{{ profile.name }},{{else}}NONAME,{{/if}}
                {{ emails.[0].address }}
            {{/with}}
          </td>
          <td>
            accepted {{ dateFromNow date }}
          </td>
          <td>
            <a style="cursor:pointer;" id="suspend-student-registration"><span class="badge" style="background-color: red;">suspend!</span></a>
          </td>
        {{else}}
          There are no enrolled students!
        {{/each}}
      </tr>
    </tbody>
  </table>

  <h5 class="title-border">Suspended Registrations</h5>

  <table class="table">
    <tbody>
      <tr>
        {{#each course.suspended }}
          <td>
            {{#with get_student_profile _id }}
                {{#if profile.name }}{{ profile.name }},{{else}}NONAME,{{/if}}
                {{ emails.[0].address }}
            {{/with}}
          </td>
          <td>
            suspended {{ dateFromNow date }}
          </td>
          <td>
            <a style="cursor:pointer;" id="accept-suspended-student"><span class="badge" style="background-color: green;">accept!</span></a>
          </td>
        {{else}}
          There are no suspended registrations!
        {{/each}}
      </tr>
    </tbody>
  </table>

</template>

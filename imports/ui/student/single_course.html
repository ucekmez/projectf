<template name="StudentSingleCourse">
  {{#with course }}
  <h1>{{ title }} [{{ code }}]</h1>

  <div class="ui divider"></div>

  <div class="sub header">
    {{#if hasPassed startDate }}
      started <b>{{ dateFromNow startDate }}</b>,
    {{else}}
      starts <b>{{ dateFromNow startDate }}</b>,
    {{/if}}

    {{#if hasPassed endDate }}
      ended <b>{{ dateFromNow endDate }}</b>,
    {{else}}
      ends <b>{{ dateFromNow endDate }}</b>,
    {{/if}}

    {{#if acceptStudents }}
      <div class="ui left pointing teal basic label">currently accepting students!</div>
    {{/if}}

  </div>

  <div class="ui divider"></div>

  {{{ description }}}

  {{#if equals status "STUDENT" }}

    {{#each schedule }}
      <div class="ui fluid card">
        <div class="content">
          {{{ content }}}
        </div>
      </div>
    {{/each}}







  {{else}}
    {{#if equals status "PENDING" }}
      <div class="actions">
        <div class="ui button orange submit fluid big disabled">Pending Request!</div>
      </div>
    {{else}}
      {{#if equals status "SUSPENDED" }}
        <div class="actions">
          <div class="ui button red submit fluid big disabled">Request denied!</div>
        </div>
      {{else}}
        {{#if acceptStudents }}
          <div class="actions">
            <div class="ui button primary submit fluid big" id="enroll-button">Enroll Now!</div>
          </div>
          {{> StudentAcceptContract}}
        {{else}}
          <div class="actions">
            <div class="ui button primary submit fluid big disabled">Enrollments are closed!</div>
          </div>
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}


  {{/with}}
</template>




<template name="StudentAcceptContract">
  <div class="ui test long modal student-accept-contract">
    <div class="header">
      Course Contract for {{ title }} [{{ code }}]
    </div>
    <div class="content">
      {{{ contract }}}
    </div>
    <div class="actions">
      <div class="ui button cancel contract-button" id="contract-dismiss-button">DISMISS</div>
      <div class="ui button positive primary submit contract-button" id="contract-submit-button">ACCEPT</div>
    </div>
  </div>
</template>
